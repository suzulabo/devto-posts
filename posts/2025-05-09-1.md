---
title: GCEでリモートGUI
published: true
id: 2782787
date: '2025-08-19T10:03:27Z'
---

###### 2025-05-09

---

- https://cloud.google.com/architecture/chrome-desktop-remote-on-compute-engine?hl=ja
- E2-Medium + SSD だと快適。Small はやや重い。
- SpotVM だと節約
- SSH は docker+gcloud-cli が便利

```
docker run -ti --rm --volumes-from gcloud-config gcr.io/google.com/cloudsdktool/google-cloud-cli gcloud compute ssh  --zone "asia-south1-c" "suzulabo@instance-xxxxxx" --project "suzulabo-playground"
```

- https://remotedesktop.google.com/access/?hl=ja から Debian 用のコードをセットアップし、リモートアクセスから入れる
- 最初に Color なんとかで root のパスワードを求められるダイアログが表示されていたが、無視でよかったかも

実行したコマンド

```
curl https://dl.google.com/linux/linux_signing_key.pub \
    | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/chrome-remote-desktop.gpg
echo "deb [arch=amd64] https://dl.google.com/linux/chrome-remote-desktop/deb stable main" \
    | sudo tee /etc/apt/sources.list.d/chrome-remote-desktop.list
sudo apt-get update
sudo DEBIAN_FRONTEND=noninteractive \
    apt-get install --assume-yes chrome-remote-desktop

sudo DEBIAN_FRONTEND=noninteractive \
    apt install --assume-yes xfce4 desktop-base dbus-x11 xscreensaver

sudo bash -c 'echo "exec /etc/X11/Xsession /usr/bin/xfce4-session" > /etc/chrome-remote-desktop-session'

sudo systemctl disable lightdm.service

curl -L -o google-chrome-stable_current_amd64.deb \
https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
sudo apt install --assume-yes --fix-broken ./google-chrome-stable_current_amd64.deb
```
