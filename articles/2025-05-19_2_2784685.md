---
title: local D1のファイル名
id: 2784685
---
###### 2025-05-19

---

- database_id の値で決まっている模様
- miniflare には object の値に同じ値を入れて、d1Persist のパスを調整すれば、wrangler d1 コマンドと同じ DB を参照できる

```typescript
const LOCAL_DIR = "../db-local/v3";

const path = memory ? "memory:" : `file://${resolve(LOCAL_DIR)}`;

const mf = new Miniflare({
  modules: true,
  script: "",
  d1Databases: { D1: "D1_LOCAL" },
  d1Persist: `${path}/d1`,
  r2Buckets: { R2: "R2" },
  r2Persist: `${path}/r2`,
});
```

> 絶対パスじゃないとダメだった
