---
title: cloudflare workersのdeployでエラー
id: 2784740
---
###### 2025-07-16

---

```
packages/reader deploy:  ⛅️ wrangler 4.22.0 (update available 4.24.3)
packages/reader deploy: ─────────────────────────────────────────────
packages/writer deploy:  ⛅️ wrangler 4.22.0 (update available 4.24.3)
packages/writer deploy: ─────────────────────────────────────────────
packages/writer deploy: ✘ [ERROR] Build failed with 1 error:
packages/writer deploy:   ✘ [ERROR] Could not resolve "minimatch"
packages/writer deploy:
packages/writer deploy:       .svelte-kit/output/server/chunks/hooks.server.js:22328:34:
packages/writer deploy:         22328 │             globMatcher = require("minimatch").minimatch;
packages/writer deploy:               ╵                                   ~~~~~~~~~~~
packages/writer deploy:
packages/writer deploy:     You can mark the path "minimatch" as external to exclude it from the bundle, which will remove this error and leave the unresolved path in the bundle. You can also surround this "require" call with a try/catch block to handle this failure at run-time instead of bundle-time.
```

- https://github.com/getsentry/sentry-javascript/issues/16613
- sveltekit のアップデートで治る模様
- `catalog:`を使ったバージョンアップの挙動が意味不明
- pnpm-workspace.yaml をアップデートしても monorepo に反映されない
- writer で outdated すると反映されているが、reader で outdated すると反映されてない
- reader で update すると reader の outdated で反映されているが、writer が戻るというよくわからない状況が発生
- `pnpm update -r @sentry/sveltekit @sveltejs/kit --latest`という感じでアップデートするのがよさそう
